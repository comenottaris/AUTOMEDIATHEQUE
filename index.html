<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <title>Automédiathèque</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="assets/automediatheque.css" />
  </head>
  <body>
    <div class="am-page">
      <!-- ================= HEADER / INTRO ================= -->
      <header class="am-hero am-hero--center">
        <div class="am-hero-inner">
          <p class="am-kicker">Ressources · Automédias</p>

          <h1 class="am-hero-title">Automédiathèque</h1>

          <p class="am-hero-lead">
            Cette automédiathèque recense des médias autonomes qui
            documentent et combattent les violences policières,
            le racisme d’État, les prisons, les frontières
            et les luttes des premier·es concerné·es.
          </p>

          <p class="am-hero-text">
            La base est volontairement partielle et en mouvement :
            elle a vocation à être complétée collectivement, corrigée,
            archivée. Les liens pointent vers les plateformes des
            collectifs et groupes concernés (sites, réseaux sociaux,
            podcasts, etc.).
          </p>

          <p class="am-hero-text">
            Tu peux filtrer par <strong>type de support</strong> (site,
            Instagram, Telegram, etc.) et par <strong>pays</strong>.
            Chaque fiche indique le type, le pays et la langue principale
            du média.
          </p>
        </div>
      </header>

      <!-- ================= SÉPARATEUR ================= -->
      <hr class="am-divider" />

      <!-- ================= CONTENU PRINCIPAL ================= -->
      <main class="am-main">
        <!-- --------- Section filtres / légende --------- -->
        <section class="am-filters-section">
          <header class="am-filters-header">
            <h2 class="am-section-title">Explorer la base</h2>
            <p class="am-section-desc">
              Combine les filtres ci‑dessous pour affiner la liste des automédias.
              Si aucun filtre n’est sélectionné, toutes les entrées sont affichées.
            </p>
          </header>

          <div class="am-toolbar">
            <!-- Filtres -->
            <div class="am-toolbar-filters">
              <!-- TYPE -->
              <label class="am-field">
                <span class="am-field-label">Type de support</span>
                <select id="am-filter-type" class="am-select">
                  <option value="">Tous</option>
                  <!-- values = "type" dans ton JSON -->
                  <option value="site">Site</option>
                  <option value="noblogs">Noblogs</option>
                  <option value="telegram">Telegram</option>
                  <option value="Instagram">Instagram</option>
                  <option value="other">Autre</option>
                </select>
              </label>

              <!-- PAYS -->
              <label class="am-field">
                <span class="am-field-label">Pays</span>
                <select id="am-filter-country" class="am-select">
                  <option value="">Tous</option>
                  <!-- values = "country" dans ton JSON -->
                  <option value="France">France</option>
                  <option value="Belgique">Belgique</option>
                  <option value="Brazil">Brésil</option>
                  <option value="Hong Kong">Hong Kong</option>
                  <option value="International">International</option>
                  <option value="Kurdistan">Kurdistan</option>
                  <option value="Mexico">Mexique</option>
                  <option value="Ukraine">Ukraine</option>
                  <option value="United Kingdom">Royaume‑Uni</option>
                  <option value="USA">États‑Unis (USA)</option>
                </select>
              </label>
            </div>

            <!-- Légende des pastilles -->
            <div class="am-toolbar-legend">
              <span class="am-legend-label">Légende</span>
              <span class="am-pill am-pill-type">Type</span>
              <span class="am-pill am-pill-country">Pays</span>
              <span class="am-pill am-pill-lang">Langue</span>
            </div>
          </div>
        </section>

        <!-- --------- Section résultats --------- -->
        <section class="am-results-section">
          <header class="am-results-header">
            <h2 class="am-section-title">Résultats</h2>
            <p class="am-section-desc">
              Chaque carte correspond à un automédia. Le titre, le type
              et l’URL pointent vers la même destination.
            </p>
          </header>

          <!-- Conteneur dans lequel le JS injecte les cartes -->
          <div id="am-results" class="am-grid">
            <!-- Contenu généré par automediatheque.js -->
          </div>
        </section>

        <!-- --------- Section État de la base (APRÈS la base) --------- -->
        <section class="am-state-section">
          <header class="am-state-header">
            <h2 class="am-section-title">État de la base</h2>
          </header>

          <div class="am-state-box">
            <p class="am-state-line">
              <span class="am-hero-label">Nombre d’entrées :</span>
              <span id="am-count" class="am-hero-value">–</span>
            </p>

            <p class="am-state-line">
              <span class="am-hero-label">Statut :</span>
              <span id="am-status-text" class="am-hero-status">
                Statut : chargement…
              </span>
            </p>

            <button id="am-refresh-db" class="am-button">
              Recharger la base
            </button>

            <p class="am-hero-note">
              Le bouton recharge le fichier JSON
              (<code>automedias.json</code>) sans utiliser le cache du
              navigateur, pour voir les dernières modifications.
            </p>
          </div>
        </section>
      </main>

      <!-- ================= FOOTER / CRÉDITS ================= -->
      <footer class="am-footer">
        <p class="am-footer-text">
          Automédiathèque – base expérimentale et incomplète.
          N’hésite pas à proposer des ajouts, corrections ou suppressions.
        </p>
        <p class="am-footer-text">
          Données chargées depuis <code>automedias.json</code>.
        </p>
      </footer>
    </div>

    <script src="assets/automediatheque.js"></script>
  </body>
</html>
